---
layout: singlepost
url: 2017-10-25-php.md
title: PHP代码简洁之道---变量部分
category: PHP
comments: true
description: 将代码写的简洁并且易读易懂是每一位优秀的coder所应该具备的基本功。<br>
             前几天在github上看到clean-code-php这个项目，感觉很有收获，于是在这里记录一下。
---

#### 将代码写的简洁并且易读易懂是每一位优秀的coder所应该具备的基本功。

#### 前几天在github上看到clean-code-php这个项目，感觉很有收获，于是在这里记录一下。

#### 使用有意义并且可读的变量名称

#### Bad:

```
$ymdstr = $moment->format('y-m-d');
```

#### Good:

```
$currentDate = $moment->format('y-m-d');
```

#### 对同一只类型的变量使用同样的词汇

#### Bad:

```
getUserInfo();
getUserData();
getUserRecord();
getUserProfile();
```

#### Good:

```
getUser();
```

#### 使用易于查找的命名

#### Bad:

```
// 这里的4是什么鬼??
if ($user->access & 4) {
    // ...
}
```

#### Good:

```
class User
{
    const ACCESS_READ = 1;
    const ACCESS_CREATE = 2;
    const ACCESS_UPDATE = 4;
    const ACCESS_DELETE = 8;
}

if ($user->access & User::ACCESS_UPDATE) {
    // do edit ...
}
```

#### 不要让读者猜
#### Bad:
```
$l = ['Austin', 'New York', 'San Francisco'];

for ($i = 0; $i < count($l); $i++) {
    $li = $l[$i];
    doStuff();
    doSomeOtherStuff();
    // ...
    // ...
    // ...
    // $li 变量代表什么？？？
    dispatch($li);
}
```

#### Good:

```
$locations = ['Austin', 'New York', 'San Francisco'];

foreach ($locations as $location) {
    doStuff();
    doSomeOtherStuff();
    // ...
    // ...
    // ...
    dispatch($location);
}不要让读者猜
```

#### Bad:
 
```
$l = ['Austin', 'New York', 'San Francisco'];

for ($i = 0; $i < count($l); $i++) {
  $li = $l[$i];
  doStuff();
  doSomeOtherStuff();
  // ...
  // ...
  // ...
  // $li 变量代表什么？？？
  dispatch($li);
}
```

#### Good:

```
$locations = ['Austin', 'New York', 'San Francisco'];

foreach ($locations as $location) {
 doStuff();
 doSomeOtherStuff();
 // ...
 // ...
 // ...
 dispatch($location);
}
```
