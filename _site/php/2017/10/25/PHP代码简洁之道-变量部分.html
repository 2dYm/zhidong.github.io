<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <!--[if IE]>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <![endif]-->
	<title>PHP代码简洁之道---变量部分</title>
    <meta name="description" content="PHP代码简洁之道---变量部分" />
    <meta name="keywords" content="linux nginx apache mysql php 技术博客" />
    <!-- BOOTSTRAP CORE STYLE CSS -->
    <link href="/assets/css/bootstrap.css" rel="stylesheet" />
     <!-- FONTAWESOME STYLE CSS -->
     <link href="/assets/css/font-awesome.css" rel="stylesheet" />
    <!-- CUSTOM STYLE CSS -->
    <link href="/assets/css/style.css" rel="stylesheet" />
</head>
<body >
    <section class="header-section">
        <div class="container">
            <div class="row">
                <div class="col-md-2">
                    <img src="/assets/img/person.jpg" class="img-circle img-responsive" />
                </div>
                <div class="col-md-5 text-center">
                    <h1><strong>Jhon Alexan </strong></h1>
                    <h4>Blogger & Designer</h4>
                </div>
                <div class="col-md-5">
                    <h3>WHO M I :</h3>

                    I am a 26 years old guy who loves bloggging and designing .
                      I will provide all my works for free here with some good piece of information.
                     You can reach me at <i><strong>info@mydomain.com</strong></i>
                </div>
            </div>
        </div>
    </section>
    <!--HOME SECTION END-->

    <section>
        <div class="container">
            <div class="row">
                <div class="col-md-2 spon-txt">
                    <span>My Sponsers: </span>
                </div>
                <div class="col-md-10">
                    <img src="/assets/img/clients.png" alt="" class="img-rounded img-responsive" />
                </div>

            </div>
        </div>
    </section>
    <!--SPONSORS SECTION END-->
    <hr />
     <section  >
        <div class="container">
            <div class="row">
                <div class="col-md-9" >

                    <h4 id="coder">将代码写的简洁并且易读易懂是每一位优秀的coder所应该具备的基本功。</h4>

<h4 id="github-clean-code-php">前几天在github上看到clean-code-php这个项目，感觉很有收获，于是在这里记录一下。</h4>

<p><br></p>

<h4 id="1">1. 使用有意义并且可读的变量名称</h4>

<h4 id="bad">Bad:</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>$ymdstr = $moment-&gt;format(&#39;y-m-d&#39;);
</code></pre></div>
<h4 id="good">Good:</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>$currentDate = $moment-&gt;format(&#39;y-m-d&#39;);
</code></pre></div>
<p><br></p>

<h4 id="2">2. 对同一只类型的变量使用同样的词汇</h4>

<h4 id="bad">Bad:</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>getUserInfo();
getUserData();
getUserRecord();
getUserProfile();
</code></pre></div>
<h4 id="good">Good:</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>getUser();
</code></pre></div>
<p><br></p>

<h4 id="3">3. 使用易于查找的命名</h4>

<h4 id="bad">Bad:</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>// 这里的4是什么鬼??
if ($user-&gt;access &amp; 4) {
    // ...
}
</code></pre></div>
<h4 id="good">Good:</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>class User
{
    const ACCESS_READ = 1;
    const ACCESS_CREATE = 2;
    const ACCESS_UPDATE = 4;
    const ACCESS_DELETE = 8;
}
if ($user-&gt;access &amp; User::ACCESS_UPDATE) {
    // do edit ...
}
</code></pre></div>
<p><br></p>

<h4 id="4">4. 不要让读者猜</h4>

<h4 id="bad">Bad:</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>$l = [&#39;Austin&#39;, &#39;New York&#39;, &#39;San Francisco&#39;];

for ($i = 0; $i &lt; count($l); $i++) {
    $li = $l[$i];
    doStuff();
    doSomeOtherStuff();
    // ...
    // ...
    // ...
    // $li 变量代表什么？？？
    dispatch($li);
}
</code></pre></div>
<h4 id="good">Good:</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>$locations = [&#39;Austin&#39;, &#39;New York&#39;, &#39;San Francisco&#39;];

foreach ($locations as $location) {
    doStuff();
    doSomeOtherStuff();
    // ...
    // ...
    // ...
    dispatch($location);
}不要让读者猜
</code></pre></div>
<p><br></p>

<h4 id="bad">Bad:</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>$l = [&#39;Austin&#39;, &#39;New York&#39;, &#39;San Francisco&#39;];

for ($i = 0; $i &lt; count($l); $i++) {
  $li = $l[$i];
  doStuff();
  doSomeOtherStuff();
  // ...
  // ...
  // ...
  // $li 变量代表什么？？？
  dispatch($li);
}
</code></pre></div>
<h4 id="good">Good:</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>$locations = [&#39;Austin&#39;, &#39;New York&#39;, &#39;San Francisco&#39;];

foreach ($locations as $location) {
 doStuff();
 doSomeOtherStuff();
 // ...
 // ...
 // ...
 dispatch($location);
}
</code></pre></div>
<p><br></p>

<h4 id="5">5. 避免过深的嵌套</h4>

<h4 id="bad">Bad:</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>function isShopOpen($day)
{
    if ($day) {
        if (is_string($day)) {
            $day = strtolower($day);
            if ($day === &#39;friday&#39;) {
                return true;
            } elseif ($day === &#39;saturday&#39;) {
                return true;
            } elseif ($day === &#39;sunday&#39;) {
                return true;
            } else {
                return false;
            }
        } else {
            return false;
        }
    } else {
        return false;
    }
}
</code></pre></div>
<h4 id="good">Good:</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>function isShopOpen($day)
{
    if (empty($day) &amp;&amp; ! is_string($day)) {
        return false;
    }

    $openingDays = [
        &#39;friday&#39;, &#39;saturday&#39;, &#39;sunday&#39;
    ];

    return in_array(strtolower($day), $openingDays);
}
</code></pre></div>
<h4 id="bad">Bad:</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>function fibonacci($n)
{
    if ($n &lt; 50) {
        if ($n !== 0) {
            if ($n !== 1) {
                return fibonacci($n - 1) + fibonacci($n - 2);
            } else {
                return 1;
            }
        } else {
            return 0;
        }
    } else {
        return &#39;Not supported&#39;;
    }
}
</code></pre></div>
<h4 id="good">Good:</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>function fibonacci($n)
{
    if ($n === 0) {
        return 0;
    }

    if ($n === 1) {
        return 1;
    }

    if ($n &gt; 50) {
        return &#39;Not supported&#39;;
    }

    return fibonacci($n - 1) + fibonacci($n - 2);
}
</code></pre></div>
<p><br></p>

<h4 id="6">6. 不要添加不必要的上下文</h4>

<h4 id=">如果你的类/对象已经说明了一些信息,不要在你的变量名和属性里重复</h4>

<h4 id="bad">Bad:</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>class Car
{
    public $carMake;
    public $carModel;
    public $carColor;

    //...
}
</code></pre></div>
<h4 id="good">Good:</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>class Car
{
    public $make;
    public $model;
    public $color;

    //...
}
</code></pre></div>
<p><br></p>

<h4 id="7">7. 参数初始化时设置默认值</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text"><span></span>function create($name = null)
{
    $newName = $name ?: &#39;ABC&#39;;
    // ...
}
</code></pre></div>
<p><br></p>

<h4 id=">设置默认值一个比较明显的好处是，当对一个较早之前已经定义好的函数添加参数时,将新增的参数设置默认值可以省得去修改以前使用该函数的地方。</h4>

<p><br></p>

<blockquote>
<p>转载 jeffrey_up<a href="https://segmentfault.com/a/1190000011387422">原文链接</a>  </p>
</blockquote>


                     <!--COMMENTS SECTION END-->
                </div>
        <div class="col-md-3">
    <ul class="list-group">
        <li class="list-group-item">
   <strong>Main Categories</strong>
  </li>
  <li class="list-group-item">
    <span class="badge">104</span>
    Technology 
  </li>
        <li class="list-group-item">
    <span class="badge">34</span>
    Blogging 
  </li>
        <li class="list-group-item">
    <span class="badge">10</span>
    Information 
  </li>
         <li class="list-group-item">
    <span class="badge">50</span>
    Security 
  </li>
         <li class="list-group-item">
   <strong>Other Categories</strong>
  </li>
  <li class="list-group-item">
    <span class="badge">104</span>
    Technology 
  </li>
        <li class="list-group-item">
    <span class="badge">34</span>
    Blogging 
  </li>
        <li class="list-group-item">
    <span class="badge">10</span>
    Information 
  </li>
         <li class="list-group-item">
    <span class="badge">50</span>
    Security 
  </li>
</ul>
                </div>
            </div>
</div>
    </section>
    <hr />
     <div class="container">
            <div class="row">
                <div class="col-md-12 text-center" style="padding:20px 5px;" >
                    <div id="copyright">
                        &copy 2017 Jhon Alexan | <a href="https://dongzhidong.github.io/" title="linux nginx apache mysql php 技术　博客">网站链接</a>
                    </div>
                    </div>
                </div>
                </div>
</body>
</html>
